# Obsidian AI Selection Toolbar

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

---

## ä¸­æ–‡

ä¸€ä¸ªå¼ºå¤§çš„ Obsidian æ’ä»¶ï¼Œä¸ºé€‰ä¸­çš„æ–‡æœ¬æä¾›æ‚¬æµ® AI å·¥å…·æ ï¼Œé›†æˆ AI é©±åŠ¨çš„ç¿»è¯‘ã€è§£é‡Šã€æ€»ç»“å’Œè¯†è¯åŠŸèƒ½ï¼ŒåŒæ—¶æ”¯æŒæµè§ˆå™¨å†…ç½®å’Œ API åŒæ¨¡å¼çš„æ–‡æœ¬æœ—è¯»ã€‚

### ğŸš€ å¿«é€Ÿä¸Šæ‰‹

![ä½¿ç”¨æ¼”ç¤º](images/how-to-use.png)

1. **é€‰ä¸­æ–‡æœ¬**ï¼šåœ¨ç¼–è¾‘å™¨ä¸­é«˜äº®é€‰æ‹©éœ€è¦å¤„ç†çš„æ–‡æœ¬
2. **è‡ªåŠ¨å¼¹å‡ºèœå•**ï¼šæ‚¬æµ®èœå•ä¼šåœ¨é€‰ä¸­åè‡ªåŠ¨å‡ºç°ï¼ˆ300ms é˜²æŠ–ï¼‰
3. **ç‚¹å‡»åŠŸèƒ½æŒ‰é’®**ï¼š
   - ğŸ”Š **æœ—è¯»**ï¼šæ’­æ”¾æ–‡æœ¬è¯­éŸ³
   - ğŸŒ **ç¿»è¯‘**ï¼šè·å–ç¿»è¯‘ç»“æœ
   - ğŸ’¡ **AI æœç´¢**ï¼šè·å–æ™ºèƒ½è§£é‡Š
   - ğŸ“„ **æ€»ç»“**ï¼šæå–æ–‡æœ¬è¦ç‚¹
   - ğŸ“– **è¯†è¯**ï¼šæŸ¥çœ‹å•è¯éŸ³æ ‡å’Œä¾‹å¥ï¼ˆä»…é™å•è¯/çŸ­è¯­ï¼‰
4. **æ‹–åŠ¨èœå•**ï¼šç‚¹å‡»æ‰‹æŸ„å›¾æ ‡å¯è‡ªç”±æ‹–åŠ¨èœå•ä½ç½®

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

#### ğŸ”Š æ™ºèƒ½æœ—è¯»ï¼ˆTTSï¼‰
- **åŒæ¨¡å¼æ”¯æŒ**
  - ğŸŒ **æµè§ˆå™¨å†…ç½® TTS**ï¼šæ— éœ€ APIï¼Œå¼€ç®±å³ç”¨
  - â˜ï¸ **API æœåŠ¡**ï¼šæ”¯æŒ OpenAI TTS æˆ–å…¼å®¹ APIï¼ŒéŸ³è´¨æ›´ä½³
- é€‰ä¸­æ–‡æœ¬ä¸€é”®æœ—è¯»
- æ”¯æŒè¯­é€Ÿå’ŒéŸ³è°ƒè°ƒèŠ‚
- æ’­æ”¾/æš‚åœæ§åˆ¶
- è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿå¯ç”¨è¯­éŸ³

#### ğŸŒ AI ç¿»è¯‘
- æµå¼è¾“å‡ºç¿»è¯‘ç»“æœï¼Œå®æ—¶æŸ¥çœ‹
- æ”¯æŒè‡ªå®šä¹‰ç›®æ ‡è¯­è¨€
- ä¸€é”®å¤åˆ¶æˆ–æ›¿æ¢åŸæ–‡
- è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿ï¼Œé€‚é…ä¸åŒç¿»è¯‘é£æ ¼

#### ğŸ’¡ AI æœç´¢ï¼ˆè§£é‡Šï¼‰
- æµå¼è¾“å‡ºæ™ºèƒ½è§£é‡Š
- å¿«é€Ÿç†è§£æ¦‚å¿µã€è¯æ±‡æˆ–æœ¯è¯­
- æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºè¯­è¨€
- å¯è¿½åŠ è§£é‡Šåˆ°ç¬”è®°æœ«å°¾

#### ğŸ“„ æ™ºèƒ½æ€»ç»“
- æµå¼è¾“å‡ºæ€»ç»“å†…å®¹
- é•¿æ–‡æœ¬å¿«é€Ÿæå–è¦ç‚¹
- æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºè¯­è¨€
- ç‰¹è‰²åŠŸèƒ½ï¼š
  - ğŸ”„ åˆ·æ–°ï¼šé‡æ–°ç”Ÿæˆæ€»ç»“
  - â¬‡ï¸ æ’å…¥ï¼šå°†æ€»ç»“æ’å…¥åˆ°é€‰ä¸­æ–‡æœ¬ä¸‹æ–¹
  - ğŸ“‹ å¤åˆ¶ï¼šå¤åˆ¶æ€»ç»“å†…å®¹

#### ğŸ“– è¯†è¯ï¼ˆWord Recognitionï¼‰
- **æ™ºèƒ½åˆ¤æ–­**ï¼šè‡ªåŠ¨è¯†åˆ«å•è¯ã€çŸ­è¯­æˆ–æˆè¯­
  - è‹±æ–‡ï¼šæ”¯æŒå•ä¸ªå•è¯æˆ–ä¸è¶…è¿‡ 5 ä¸ªå•è¯çš„çŸ­è¯­
  - ä¸­æ–‡ï¼šæ”¯æŒè¯è¯­æˆ–æˆè¯­ï¼ˆä¸è¶…è¿‡ 10 ä¸ªå­—ï¼‰
  - è‡ªåŠ¨è¿‡æ»¤å¥å­ï¼ˆåŒ…å«æ ‡ç‚¹ç¬¦å·çš„é•¿å¥ï¼‰
- **åŠŸèƒ½å±•ç¤º**ï¼š
  - ğŸ“¢ **å‘éŸ³æŒ‰é’®**ï¼šç‚¹å‡»æœ—è¯»å•è¯/è¯ç»„ï¼ˆä½¿ç”¨æµè§ˆå™¨ TTSï¼‰
  - ğŸ”¤ **éŸ³æ ‡æ˜¾ç¤º**ï¼šIPA éŸ³æ ‡ï¼ˆè‹±æ–‡ï¼‰æˆ–æ‹¼éŸ³ï¼ˆä¸­æ–‡ï¼‰
  - ğŸ“š **ä¾‹å¥å±•ç¤º**ï¼šAI ç”Ÿæˆ 2 ä¸ªå®ç”¨ä¾‹å¥
- é€‚åˆè¯­è¨€å­¦ä¹ å’Œè¯æ±‡ç§¯ç´¯

### âš™ï¸ è¯¦ç»†é…ç½®

#### åŠŸèƒ½å¼€å…³
æ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥ç‹¬ç«‹å¼€å¯æˆ–å…³é—­ï¼š
- âœ… å¯ç”¨è¯­éŸ³æœ—è¯»
- âœ… å¯ç”¨ç¿»è¯‘
- âœ… å¯ç”¨ AI æœç´¢
- âœ… å¯ç”¨æ€»ç»“
- âœ… å¯ç”¨è¯†è¯

#### TTS æœ—è¯»è®¾ç½®

**æä¾›å•†é€‰æ‹©**
- ğŸŒ **æµè§ˆå™¨å†…ç½®**ï¼šå…è´¹ã€æ— éœ€é…ç½®ã€ç¦»çº¿å¯ç”¨
- â˜ï¸ **API æœåŠ¡**ï¼šéœ€è¦é…ç½® APIï¼ŒéŸ³è´¨æ›´å¥½(å¼€å‘ä¸­)

**æµè§ˆå™¨ TTS è®¾ç½®**ï¼ˆé€‰æ‹©æµè§ˆå™¨å†…ç½®æ—¶ï¼‰
- **è¯­éŸ³é€‰æ‹©**ï¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿå¯ç”¨è¯­éŸ³
- **è¯­é€Ÿ**ï¼š0.25 - 4.0ï¼ˆé»˜è®¤ 1.0ï¼‰
- **éŸ³è°ƒ**ï¼š0.5 - 2.0ï¼ˆé»˜è®¤ 1.0ï¼‰

**API TTS è®¾ç½®**ï¼ˆé€‰æ‹© API æœåŠ¡æ—¶ï¼‰
- **API URL**ï¼šTTS API ç«¯ç‚¹ï¼ˆæ”¯æŒ OpenAI æ ¼å¼ï¼‰
- **API Key**ï¼šä½ çš„ API å¯†é’¥ï¼ˆå¯é€‰ï¼‰
- **è¯­éŸ³å‚æ•°**ï¼šè‡ªå®šä¹‰å‚æ•°ï¼Œå¦‚ `voice=alloy&model=tts-1`
- **è¯­é€Ÿ**ï¼š0.25 - 4.0

#### AI è®¾ç½®
- **API URL**: AI API ç«¯ç‚¹ï¼ˆæ”¯æŒ OpenAI/Ollama æ ¼å¼ï¼‰
- **API Key**: ä½ çš„ API å¯†é’¥ï¼ˆæœ¬åœ°æ¨¡å‹å¯ç•™ç©ºï¼‰
- **Model**: æ¨¡å‹åç§°ï¼ˆå¦‚ `gpt-3.5-turbo`ã€`gpt-4`ï¼‰

#### ç¿»è¯‘è®¾ç½®
- **ç›®æ ‡è¯­è¨€**: é€‰æ‹©æˆ–è¾“å…¥è‡ªå®šä¹‰è¯­è¨€ï¼ˆé»˜è®¤ï¼šEnglishï¼‰
- **æç¤ºè¯æ¨¡æ¿**: è‡ªå®šä¹‰ç¿»è¯‘é£æ ¼ï¼Œä½¿ç”¨ `{{targetLanguage}}` å ä½ç¬¦

#### è§£é‡Šè®¾ç½®
- **è¾“å‡ºè¯­è¨€**: é€‰æ‹©æˆ–è¾“å…¥è‡ªå®šä¹‰è¯­è¨€ï¼ˆé»˜è®¤ï¼šä¸­æ–‡ï¼‰
- **æç¤ºè¯æ¨¡æ¿**: è‡ªå®šä¹‰è§£é‡Šé£æ ¼ï¼Œä½¿ç”¨ `{{outputLanguage}}` å ä½ç¬¦

#### æ€»ç»“è®¾ç½®
- **è¾“å‡ºè¯­è¨€**: é€‰æ‹©æˆ–è¾“å…¥è‡ªå®šä¹‰è¯­è¨€ï¼ˆé»˜è®¤ï¼šä¸­æ–‡ï¼‰
- **æç¤ºè¯æ¨¡æ¿**: è‡ªå®šä¹‰æ€»ç»“é£æ ¼ï¼Œä½¿ç”¨ `{{outputLanguage}}` å ä½ç¬¦

#### è¯†è¯è®¾ç½®
- **æç¤ºè¯æ¨¡æ¿**: è‡ªå®šä¹‰è¯†è¯æç¤ºï¼Œä½¿ç”¨ `{{word}}` å ä½ç¬¦
- é»˜è®¤è¿”å› JSON æ ¼å¼ï¼š`{ "phonetic": "...", "examples": ["...", "..."] }`

### ğŸ“¦ å®‰è£…æ–¹æ³•

#### é€šè¿‡ Obsidian ç¤¾åŒºæ’ä»¶ï¼ˆæ¨èï¼‰
1. æ‰“å¼€ Obsidian è®¾ç½®
2. è¿›å…¥ã€Œç¬¬ä¸‰æ–¹æ’ä»¶ã€â†’ã€Œæµè§ˆã€
3. æœç´¢ "AI Selection Toolbar"
4. ç‚¹å‡»å®‰è£…å¹¶å¯ç”¨

#### æ‰‹åŠ¨å®‰è£…
1. ä» [Releases](https://github.com/lxy3372/obsidian-ai-selection-toolbar/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. è§£å‹åˆ° vault çš„ `.obsidian/plugins/ai-selection-toolbar/` ç›®å½•
3. é‡å¯ Obsidian
4. åœ¨è®¾ç½®ä¸­å¯ç”¨æ’ä»¶

### ğŸ“ API å…¼å®¹æ€§

**æ”¯æŒçš„ TTS æä¾›å•†**ï¼ˆå¯é€‰ï¼Œæµè§ˆå™¨æ¨¡å¼æ— éœ€é…ç½®ï¼‰ï¼š
- OpenAI TTS API
- å…¶ä»–å…¼å®¹ OpenAI æ ¼å¼çš„ TTS æœåŠ¡

**æ”¯æŒçš„ AI æä¾›å•†**ï¼ˆå¿…éœ€ï¼‰ï¼š
- âœ… OpenAIï¼ˆGPT-3.5ã€GPT-4 ç­‰ï¼‰
- âœ… Ollamaï¼ˆæœ¬åœ°è¿è¡Œï¼Œå…è´¹ï¼‰
- âœ… å…¶ä»–å…¼å®¹ OpenAI æ ¼å¼çš„ APIï¼ˆå¦‚ Azure OpenAIã€LiteLLM ç­‰ï¼‰

**æ¨èé…ç½®**ï¼š
- **é›¶æˆæœ¬æ–¹æ¡ˆ**ï¼šæµè§ˆå™¨ TTS + Ollama æœ¬åœ°æ¨¡å‹ï¼ˆå¦‚ `llama3`ï¼‰
- **é«˜è´¨é‡æ–¹æ¡ˆ**ï¼šOpenAI TTS + GPT-4

### ğŸ› å¸¸è§é—®é¢˜

<details>
<summary><b>Q: æ‚¬æµ®èœå•ä¸æ˜¾ç¤ºï¼Ÿ</b></summary>

- ç¡®ä¿åœ¨ Live Preview æˆ– Source æ¨¡å¼ä¸‹ï¼ˆé˜…è¯»æ¨¡å¼ä¸æ”¯æŒï¼‰
- æ£€æŸ¥æ˜¯å¦æ­£ç¡®é€‰ä¸­äº†æ–‡æœ¬
- ç­‰å¾… 300ms é˜²æŠ–æ—¶é—´
- æ£€æŸ¥æ’ä»¶æ˜¯å¦å·²å¯ç”¨ï¼Œè‡³å°‘å¼€å¯ä¸€ä¸ªåŠŸèƒ½
</details>

<details>
<summary><b>Q: API è°ƒç”¨å¤±è´¥ï¼Ÿ</b></summary>

- æ£€æŸ¥ API URL æ˜¯å¦æ­£ç¡®ï¼ˆæ ¼å¼ï¼š`https://api.openai.com/v1/chat/completions`ï¼‰
- éªŒè¯ API Key æ˜¯å¦æœ‰æ•ˆä¸”æœ‰è¶³å¤Ÿé¢åº¦
- æ‰“å¼€å¼€å‘è€…æ§åˆ¶å°ï¼ˆCtrl/Cmd + Shift + Iï¼‰æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œèƒ½è®¿é—® API æœåŠ¡å™¨
- å¦‚æœä½¿ç”¨ Ollamaï¼Œç¡®ä¿æœ¬åœ°æœåŠ¡å·²å¯åŠ¨ï¼ˆ`ollama serve`ï¼‰
</details>

<details>
<summary><b>Q: æµè§ˆå™¨ TTS ä¸å‘éŸ³ï¼Ÿ</b></summary>

- ç¡®è®¤æµè§ˆå™¨æ”¯æŒ Web Speech APIï¼ˆChromeã€Edgeã€Safari æ”¯æŒï¼‰
- æ£€æŸ¥ç³»ç»ŸéŸ³é‡æ˜¯å¦å¼€å¯
- å°è¯•é€‰æ‹©ä¸åŒçš„è¯­éŸ³ï¼ˆéƒ¨åˆ†è¯­éŸ³å¯èƒ½ä¸å¯ç”¨ï¼‰
- åœ¨è®¾ç½®ä¸­æµ‹è¯•ä¸åŒçš„è¯­éŸ³é€‰é¡¹
</details>

<details>
<summary><b>Q: API TTS éŸ³é¢‘æ— æ³•æ’­æ”¾ï¼Ÿ</b></summary>

- æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒ Web Audio API
- ç¡®è®¤ TTS API è¿”å›çš„æ˜¯æœ‰æ•ˆçš„éŸ³é¢‘æ•°æ®ï¼ˆåº”ä¸º MP3 æ ¼å¼ï¼‰
- æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰è§£ç é”™è¯¯
- å°è¯•ä½¿ç”¨æµè§ˆå™¨ TTS æ¨¡å¼ä½œä¸ºå¤‡é€‰
</details>

<details>
<summary><b>Q: è¯†è¯åŠŸèƒ½æç¤º"ä¸ç¬¦åˆè§„åˆ™"ï¼Ÿ</b></summary>

- è¯†è¯åŠŸèƒ½ä»…æ”¯æŒå•è¯ã€çŸ­è¯­æˆ–æˆè¯­
- è‹±æ–‡ï¼šä¸è¶…è¿‡ 5 ä¸ªå•è¯ï¼Œä¸åŒ…å«å¥å­æ ‡ç‚¹ï¼ˆ. ! ? ;ï¼‰
- ä¸­æ–‡ï¼šä¸è¶…è¿‡ 10 ä¸ªå­—ï¼Œä¸åŒ…å«å¥å­æ ‡ç‚¹ï¼ˆï¼Œã€‚ï¼ï¼Ÿï¼›ï¼šç­‰ï¼‰
- å¦‚æœéœ€è¦è§£é‡Šæ•´å¥è¯ï¼Œè¯·ä½¿ç”¨ã€ŒAI æœç´¢ã€åŠŸèƒ½
</details>

<details>
<summary><b>Q: å¦‚ä½•ä½¿ç”¨æœ¬åœ° AI æ¨¡å‹ï¼ˆOllamaï¼‰ï¼Ÿ</b></summary>

1. å®‰è£… Ollamaï¼šhttps://ollama.ai/
2. ä¸‹è½½æ¨¡å‹ï¼š`ollama pull llama3`
3. å¯åŠ¨æœåŠ¡ï¼š`ollama serve`
4. æ’ä»¶è®¾ç½®ï¼š
   - AI API URL: `http://localhost:11434/v1/chat/completions`
   - API Key: ç•™ç©ºï¼ˆæœ¬åœ°æ¨¡å‹æ— éœ€ï¼‰
   - Model: `llama3`ï¼ˆæˆ–å…¶ä»–å·²ä¸‹è½½çš„æ¨¡å‹ï¼‰
</details>

<details>
<summary><b>Q: æµå¼è¾“å‡ºæ˜¾ç¤ºä¹±ç ï¼Ÿ</b></summary>

- æŸäº› API æä¾›å•†å¯èƒ½ä¸å®Œå…¨å…¼å®¹ OpenAI æµå¼æ ¼å¼
- å°è¯•æ›´æ¢ AI æ¨¡å‹æˆ– API æä¾›å•†
- æ£€æŸ¥ API URL æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯æ—¥å¿—
</details>

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- ğŸ“– **é˜…è¯»å­¦ä¹ **ï¼šå¿«é€Ÿç¿»è¯‘å’Œç†è§£å¤–æ–‡æ–‡çŒ®
- âœï¸ **å†™ä½œè¾…åŠ©**ï¼šæ¶¦è‰²ç¿»è¯‘ã€è·å–åŒä¹‰è¯è§£é‡Š
- ğŸŒ **è¯­è¨€å­¦ä¹ **ï¼šè¯†è¯åŠŸèƒ½æŸ¥çœ‹éŸ³æ ‡å’Œä¾‹å¥
- ğŸ“ **ç¬”è®°æ•´ç†**ï¼šæ€»ç»“é•¿æ–‡æœ¬ã€æå–å…³é”®ä¿¡æ¯
- ğŸ”Š **å¬åŠ›è®­ç»ƒ**ï¼šæ–‡æœ¬æœ—è¯»ï¼Œå¤šè¯­è¨€å‘éŸ³ç»ƒä¹ 

### ğŸ›£ï¸ å¼€å‘è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤š TTS æä¾›å•†
- [ ] æ·»åŠ å†å²è®°å½•åŠŸèƒ½
- [ ] æ”¯æŒæ‰¹é‡å¤„ç†
- [ ] è‡ªå®šä¹‰å¿«æ·é”®
- [ ] æ›´å¤šè¯­è¨€çš„ UI æœ¬åœ°åŒ–

### ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

### ğŸ’– æ”¯æŒé¡¹ç›®

å¦‚æœè¿™ä¸ªæ’ä»¶å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ï¼š
- â­ ç»™é¡¹ç›®ç‚¹ä¸ª Star
- ğŸ› æŠ¥å‘Š Bug å’Œå»ºè®®
- ğŸ“¢ åˆ†äº«ç»™å…¶ä»– Obsidian ç”¨æˆ·

### ğŸ“® åé¦ˆä¸å»ºè®®

- ğŸ’¬ [GitHub Issues](https://github.com/lxy3372/obsidian-ai-selection-toolbar/issues)
- ğŸŒ [GitHub Discussions](https://github.com/lxy3372/obsidian-ai-selection-toolbar/discussions)

---

## English

A powerful Obsidian plugin that provides a floating AI toolbar for selected text, featuring AI-powered translation, explanation, summarization, and word recognition, with dual-mode text-to-speech support (browser-based and API-based).

### ğŸš€ Quick Start

![How to Use](images/how-to-use.png)

1. **Select Text**: Highlight the text you want to process in the editor
2. **Auto-popup Menu**: The floating menu appears automatically after selection (300ms debounce)
3. **Click Function Buttons**:
   - ğŸ”Š **Read**: Play text-to-speech
   - ğŸŒ **Translate**: Get translation result
   - ğŸ’¡ **AI Search**: Get intelligent explanation
   - ğŸ“„ **Summary**: Extract key points
   - ğŸ“– **Recognize**: View word phonetics and examples (words/phrases only)
4. **Drag Menu**: Click and drag the handle icon to reposition the menu

### âœ¨ Key Features

#### ğŸ”Š Smart Text-to-Speech
- **Dual Mode Support**
  - ğŸŒ **Browser Built-in TTS**: No API required, works out of the box
  - â˜ï¸ **API Service**: Supports OpenAI TTS or compatible APIs for better quality
- One-click text reading
- Adjustable speed and pitch
- Play/Pause control
- Auto-detect available system voices

#### ğŸŒ AI Translation
- Streaming translation output with real-time display
- Customizable target language
- One-click copy or replace original text
- Custom prompt templates for different translation styles

#### ğŸ’¡ AI Search (Explanation)
- Streaming intelligent explanations
- Quick understanding of concepts, terms, or vocabulary
- Customizable output language
- Append explanations to note

#### ğŸ“„ Smart Summarization
- Streaming summary output
- Quick extraction of key points from long texts
- Customizable output language
- Special features:
  - ğŸ”„ Refresh: Regenerate summary
  - â¬‡ï¸ Insert: Insert summary below selected text
  - ğŸ“‹ Copy: Copy summary content

#### ğŸ“– Word Recognition
- **Smart Detection**: Automatically identifies words, phrases, or idioms
  - English: Single words or phrases up to 5 words
  - Chinese: Words or idioms (up to 10 characters)
  - Auto-filter sentences (long texts with punctuation)
- **Features**:
  - ğŸ“¢ **Pronunciation Button**: Click to read word/phrase (using browser TTS)
  - ğŸ”¤ **Phonetic Display**: IPA notation (English) or Pinyin (Chinese)
  - ğŸ“š **Example Sentences**: AI-generated 2 practical examples
- Perfect for language learning and vocabulary building

### âš™ï¸ Configuration

#### Feature Toggles
All features can be independently enabled or disabled:
- âœ… Enable Text-to-Speech
- âœ… Enable Translation
- âœ… Enable AI Search
- âœ… Enable Summary
- âœ… Enable Word Recognition

#### TTS Settings

**Provider Selection**
- ğŸŒ **Browser Built-in**: Free, no configuration, works offline
- â˜ï¸ **API Service**: Requires API configuration, better quality

**Browser TTS Settings** (When browser built-in is selected)
- **Voice Selection**: Auto-detect available system voices
- **Speed**: 0.25 - 4.0 (default 1.0)
- **Pitch**: 0.5 - 2.0 (default 1.0)

**API TTS Settings** (When API service is selected)
- **API URL**: TTS API endpoint (OpenAI format supported)
- **API Key**: Your API key (optional)
- **Voice Parameters**: Custom parameters, e.g., `voice=alloy&model=tts-1`
- **Speed**: 0.25 - 4.0

#### AI Settings
- **API URL**: AI API endpoint (OpenAI/Ollama format supported)
- **API Key**: Your API key (leave empty for local models)
- **Model**: Model name (e.g., `gpt-3.5-turbo`, `gpt-4`)

#### Translation Settings
- **Target Language**: Select or enter custom language (default: English)
- **Prompt Template**: Customize translation style using `{{targetLanguage}}` placeholder

#### Explanation Settings
- **Output Language**: Select or enter custom language (default: Chinese)
- **Prompt Template**: Customize explanation style using `{{outputLanguage}}` placeholder

#### Summary Settings
- **Output Language**: Select or enter custom language (default: Chinese)
- **Prompt Template**: Customize summary style using `{{outputLanguage}}` placeholder

#### Word Recognition Settings
- **Prompt Template**: Customize word recognition prompt using `{{word}}` placeholder
- Default returns JSON format: `{ "phonetic": "...", "examples": ["...", "..."] }`

### ğŸ“¦ Installation

#### Via Obsidian Community Plugins (Recommended)
1. Open Obsidian Settings
2. Go to "Community Plugins" â†’ "Browse"
3. Search for "AI Selection Toolbar"
4. Click Install and Enable

#### Manual Installation
1. Download the latest release from [Releases](https://github.com/lxy3372/obsidian-ai-selection-toolbar/releases)
2. Extract to `.obsidian/plugins/ai-selection-toolbar/` in your vault
3. Restart Obsidian
4. Enable the plugin in Settings

### ğŸ“ API Compatibility

**Supported TTS Providers** (Optional, not needed for browser mode):
- OpenAI TTS API
- Other OpenAI-compatible TTS services

**Supported AI Providers** (Required):
- âœ… OpenAI (GPT-3.5, GPT-4, etc.)
- âœ… Ollama (local deployment, free)
- âœ… Other OpenAI-compatible APIs (e.g., Azure OpenAI, LiteLLM)

**Recommended Configurations**:
- **Zero-cost**: Browser TTS + Ollama local models (e.g., `llama3`)
- **High-quality**: OpenAI TTS + GPT-4

### ğŸ› FAQ

<details>
<summary><b>Q: Floating menu not showing?</b></summary>

- Ensure you're in Live Preview or Source mode (Reading mode not supported)
- Check if text is properly selected
- Wait for 300ms debounce time
- Check if plugin is enabled and at least one feature is turned on
</details>

<details>
<summary><b>Q: API call failed?</b></summary>

- Verify API URL is correct (format: `https://api.openai.com/v1/chat/completions`)
- Ensure API Key is valid and has sufficient quota
- Open developer console (Ctrl/Cmd + Shift + I) to view detailed error messages
- Check network connection and API server accessibility
- If using Ollama, ensure local service is running (`ollama serve`)
</details>

<details>
<summary><b>Q: Browser TTS not speaking?</b></summary>

- Confirm browser supports Web Speech API (Chrome, Edge, Safari supported)
- Check system volume is on
- Try selecting different voices (some voices may be unavailable)
- Test different voice options in settings
</details>

<details>
<summary><b>Q: API TTS audio not playing?</b></summary>

- Check if browser supports Web Audio API
- Confirm TTS API returns valid audio data (should be MP3 format)
- Check console for decoding errors
- Try using browser TTS mode as an alternative
</details>

<details>
<summary><b>Q: Word recognition says "not eligible"?</b></summary>

- Word recognition only supports words, phrases, or idioms
- English: Up to 5 words, no sentence punctuation (. ! ? ;)
- Chinese: Up to 10 characters, no sentence punctuation (ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼šetc.)
- For full sentences, use "AI Search" feature instead
</details>

<details>
<summary><b>Q: How to use local AI models (Ollama)?</b></summary>

1. Install Ollama: https://ollama.ai/
2. Download model: `ollama pull llama3`
3. Start service: `ollama serve`
4. Plugin settings:
   - AI API URL: `http://localhost:11434/v1/chat/completions`
   - API Key: Leave empty (not needed for local models)
   - Model: `llama3` (or other downloaded models)
</details>

<details>
<summary><b>Q: Streaming output showing garbled text?</b></summary>

- Some API providers may not be fully compatible with OpenAI streaming format
- Try switching AI model or API provider
- Check if API URL is correct
- Review console error logs
</details>

### ğŸ¯ Use Cases

- ğŸ“– **Reading & Learning**: Quickly translate and understand foreign literature
- âœï¸ **Writing Assistance**: Polish translations, get synonym explanations
- ğŸŒ **Language Learning**: Word recognition for phonetics and examples
- ğŸ“ **Note Organization**: Summarize long texts, extract key information
- ğŸ”Š **Listening Practice**: Text reading for multi-language pronunciation practice

### ğŸ›£ï¸ Roadmap

- [ ] Support for more TTS providers
- [ ] Add history feature
- [ ] Support batch processing
- [ ] Custom keyboard shortcuts
- [ ] More UI localizations

### ğŸ“„ License

MIT License - See [LICENSE](LICENSE) file for details

### ğŸ’– Support the Project

If this plugin helps you:
- â­ Star the project
- ğŸ› Report bugs and suggestions
- ğŸ“¢ Share with other Obsidian users

### ğŸ“® Feedback

- ğŸ’¬ [GitHub Issues](https://github.com/lxy3372/obsidian-ai-selection-toolbar/issues)
- ğŸŒ [GitHub Discussions](https://github.com/lxy3372/obsidian-ai-selection-toolbar/discussions)
